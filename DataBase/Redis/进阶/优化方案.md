### 1、缩短键值对的存储长度

键值对的长度是和性能成反比的



### 2、使用 lazy free（延迟删除）特性

### 3、设置键值的过期时间

### 4、禁用长耗时的查询命令

其中 O(1) 表示可以安全使用的，而 O(N) 就应该当心了，N 表示不确定，数据越大查询的速度可能会越慢。因为 Redis 只用一个线程来做数据查询，如果这些指令耗时很长，就会阻塞 Redis，造成大量延时。

要避免 O(N) 命令对 Redis 造成的影响，可以从以下几个方面入手改造：

- 决定禁止使用 keys 命令；
- 避免一次查询所有的成员，要使用 scan 命令进行分批的，游标式的遍历；
- 通过机制严格控制 Hash、Set、Sorted Set 等结构的数据大小；
- 将排序、并集、交集等操作放在客户端执行，以减少 Redis 服务器运行压力；
- 删除 (del) 一个大数据的时候，可能会需要很长时间，所以建议用异步删除的方式 unlink，它会启动一个新的线程来删除目标数据，而不阻塞 Redis 的主线程。

### 5、使用 slowlog 优化耗时命令

### 6、使用 Pipeline 批量操作数据

### 7、 避免大量数据同时失效

### 8、客户端使用优化

### 9、限制 Redis 内存大小

### 10、使用物理机而非虚拟机安装 Redis 服务

### 11、检查数据持久化策略

### 12、禁用 THP 特性

### 13、使用分布式架构来增加读写速度









### 参考资料

https://mp.weixin.qq.com/s/F552aUKVh-y8aOyZUBAuZw