| 软件         | 建议版本         | 备注                                           |
| :----------- | :--------------- | ---------------------------------------------- |
| 优先统一软件 | CentOS           | 首先大版本统一、小版本可通过yum update进行升级 |
| Nginx        | 1.16.1           |                                                |
| PHP          | 7.4.x            |                                                |
| Redis        | 5.0.x            |                                                |
| Mongodb      | 4.2.6            |                                                |
| MySQL        | 5.7.x<br />8.0.x |                                                |
| Oracle JDK   | 1.8              |                                                |
| Openjdk      | 1.8              |                                                |
| Haproxy      | 2.0.14           |                                                |
| Kafka        | 2.2.0            |                                                |
| Zookeeper    | 3.4.14           |                                                |



## 架构标准化

| 架构类型                            | 推荐理由                                                     | 备注                 |
| :---------------------------------- | :----------------------------------------------------------- | :------------------- |
| 【要求】LVS→Haproxy→ Nginx(业务WEB) | LVS做4层负载效率高但受限于运行模式、Haproxy作为中间层方便调度 | 标准Web架构          |
| 【要求】LVS → Haproxy → 应用程序    | 请求量大                                                     | 标准四层网络负载架构 |
| 【要求】Apache+PHP → Nginx+PHP      | Nginx轻便、占用资源少、并发高                                | 建议所有业务         |
| 【要求】memcache → Redis            |                                                              |                      |
| **中间件相关：**                    |                                                              |                      |
| 【建议】Redis主从升级成哨兵模式     |                                                              |                      |
| 【建议】MySQL升级成中间件代理       | ProxySQL                                                     |                      |

## **配置域名化**

​     所有连接中间件均采用域名化配置