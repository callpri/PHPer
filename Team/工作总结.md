## 一、性能

1、apcu



#### Redis

1、redis集群

2、RDB文件分析



#### RabbitMq

1、rabbitmq（异步处理）

2、RabbitMq镜像模式



#### 数据库
1、数据库连接池（swoole，可靠性差，方便扩展）

2、主从复制调整为并行方式复制







## 三、数据存储



2、分模块，业务数据库独立（解耦）

3、数据分片，分布式事务



## 四、核心业务报警

| 功能名称 | 日志格式 | 报警频率 |
| -------- | -------- | -------- |
|          |          |          |

实现方式: filebeat + kibana + grafana + prometheus

日志内容：php + mysq + nginx + 业务日志



## 五、开发环境

1、自动部署（walle）

2、开发环境统一：Docker镜像

3、lua + redis，区分用户、

4、



## 六、运维

1、脚本管理：gocron

2、预发布环境，数据同步

3、网络拓扑

4、限流（nginx限流和熔断）

5、数据上报收集

6、

## 七、项目管理

1、



## 八、教训

1、删除rsync日志文件递归问题

2、redis内存监控 （资源问题）

3、curl网络设置超时时间（网络问题）

4、异常业务逻辑（兜底逻辑）

