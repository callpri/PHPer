## 分布式锁

#### 一致性

同时过来竞争资源



## 锁管理

**数据锁**

共享锁：

排他锁：不可以读

#### 分类：

数据锁

Shard application（分区）：问题：热点、复制

中心化管理器



## redis分布式锁

**问题**



**Redlock(红锁）**：解决分布式锁丢失的问题

1、获取当前时间（ms）

2、大多数节点，上锁成功。

3、orgin - 锁期间流逝的时间



问题

1、时间跳

2、时间过期了

3、网络延迟】



## zk

顺序生成临时标签，必须这个标签才能够解锁



## Chubby

master client 续租



## zk vs redis 区别

分布式锁



